<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ø¨Ø§Ø²ÛŒ Ù‡ÙˆØ´ÛŒØªØ§</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "IRANSans", sans-serif;
    }
    body {
      margin: 0;
      background: radial-gradient(circle at top, #f5f7ff, #eef2ff);
      color: #222;
    }
    .app {
      max-width: 900px;
      margin: 0 auto;
      padding: 16px;
    }

    .card {
      background: #ffffff;
      border-radius: 24px;
      box-shadow: 0 10px 25px rgba(15, 23, 42, 0.08);
      padding: 16px 20px;
      margin-bottom: 16px;
    }

    /* Ù‡Ø¯Ø± Ø¨Ø§ Ú¯Ø±Ø§Ø¯ÛŒÙ†Øª Ø¯Ù„Ø¨Ø±ØªØ± (Ú©Ù…ÛŒ Ù¾Ø±Ø±Ù†Ú¯â€ŒØªØ±) */
    .header-card {
      background: linear-gradient(135deg, #d4d4ff, #fecdd3);
    }

    /* -------- Ù‡Ø¯Ø± -------- */
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .header-left {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: flex-start;
      justify-content: center;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .pill-btn {
      border: 1px solid #e5e7eb;
      border-radius: 999px;
      padding: 6px 14px;
      font-size: 12px;
      cursor: pointer;
      background: #eef2ff;
      color: #0f172a;
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.06);
      transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease;
      white-space: nowrap;
    }
    .pill-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.12);
      background: #e0e7ff;
    }

    .logo {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      border: 3px solid #ffffff;
      box-shadow: 0 6px 14px rgba(15, 23, 42, 0.18);
      background: #fff;
      overflow: hidden;
      flex-shrink: 0;
    }
    .logo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .header-title-wrap {
      display: flex;
      flex-direction: column;
      gap: 6px;
      align-items: flex-start;
      text-align: right;
    }

    .header-title h1 {
      margin: 0;
      font-size: 24px;
      font-weight: 800;
      color: #1e293b;
    }
    .header-title p {
      margin: 0;
      font-size: 13px;
      color: #6b7280;
    }

    .user-box {
      padding: 6px 10px;
      border-radius: 12px;
      background: #f4f4ff;
      font-size: 12px;
      display: flex;
      gap: 12px;
      color: #4b5563;
    }
    .user-box span {
      font-weight: 600;
      color: #111827;
    }

    /* -------- Ù†ÙˆØ§Ø± ÙˆØ¶Ø¹ÛŒØª Ø²ÛŒØ± Ù‡Ø¯Ø± -------- */
    .status-bar {
      display: flex;
      gap: 8px;
      justify-content: space-between;
      margin-bottom: 4px;
      padding: 6px 10px;
      align-items: center;
    }
    .status-pill {
      flex: 1;
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 13px;
      background: #f4f4ff;
      color: #4b5563;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      cursor: default;
      white-space: nowrap;
    }
    .status-pill.clickable {
      cursor: pointer;
      background: linear-gradient(135deg, #f97316, #facc15);
      color: #111827;
      font-weight: 600;
    }

    /* -------- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ (Û² Ø¯Ø± Û³) -------- */
    .games-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    .game-card {
      position: relative;
      background: #ffffff;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.06);
      display: flex;
      flex-direction: column;
      cursor: pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease;
    }
    .game-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 26px rgba(15, 23, 42, 0.12);
    }
    .game-card img {
      width: 100%;
      height: 130px;
      object-fit: cover;
    }
    .game-card-body {
      padding: 10px 12px 12px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .game-card-title {
      font-size: 14px;
      font-weight: 700;
      color: #111827;
    }
    .game-card-sub {
      font-size: 12px;
      color: #6b7280;
      min-height: 30px;
    }
    .game-card-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 11px;
      margin-top: 4px;
      color: #4b5563;
    }
    .game-card-footer button {
      border: none;
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 11px;
      background: linear-gradient(135deg, #4f46e5, #6366f1);
      color: #fff;
      cursor: pointer;
    }

    .game-card.locked {
      filter: grayscale(1);
      opacity: 0.7;
      cursor: default;
    }
    .game-card.locked .lock-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(to top, rgba(15, 23, 42, 0.6), transparent);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #f9fafb;
      font-size: 13px;
      flex-direction: column;
      gap: 4px;
    }
    .lock-icon {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }

    /* -------- ØµÙØ­Ù‡â€ŒÛŒ Ø¨Ø§Ø²ÛŒ -------- */
    .hidden {
      display: none !important;
    }

    .game-header-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .back-btn {
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #ffffff;
      padding: 6px 14px;
      font-size: 12px;
      cursor: pointer;
      color: #374151;
      order: 1;
    }

    .game-title-area {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      order: 0;
    }
    .game-main-title {
      font-size: 18px;
      font-weight: 800;
      margin: 0;
      color: #111827;
    }
    .game-subtitle {
      font-size: 12px;
      color: #6b7280;
      margin: 2px 0 0;
    }

    .game-top-stats {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
      align-items: center;
      justify-content: flex-start;
    }
    .stat-pill {
      padding: 4px 10px;
      border-radius: 999px;
      background: #eef2ff;
      font-size: 11px;
      color: #4b5563;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .stat-pill.heart-pill {
      background: #ffe4e6;
      color: #b91c1c;
    }
    .stat-pill.star-pill {
      background: #fef3c7;
      color: #92400e;
    }
    .stat-pill.timer-pill {
      background: #fee2e2;
      color: #b91c1c;
      font-weight: 600;
    }
    .stat-pill .icon {
      font-size: 22px;
    }

    .bounce {
      animation: bounce 0.45s ease;
    }
    @keyframes bounce {
      0%   { transform: scale(1); }
      35%  { transform: scale(1.35); }
      100% { transform: scale(1); }
    }
    .shake {
      animation: shake 0.45s ease;
    }
    @keyframes shake {
      0%,100% { transform: translateX(0); }
      20% { transform: translateX(-6px); }
      40% { transform: translateX(6px); }
      60% { transform: translateX(-4px); }
      80% { transform: translateX(4px); }
    }

    .coach-row {
      margin-top: 12px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .coach-avatar {
      width: 60px;
      height: 60px;
      border-radius: 18px;
      overflow: hidden;
      flex-shrink: 0;
      box-shadow: 0 6px 18px rgba(79, 70, 229, 0.25);
    }
    .coach-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .coach-bubble {
      flex: 1;
      border-radius: 18px;
      background: linear-gradient(135deg, #eef2ff, #e0f2fe);
      padding: 10px 12px;
      font-size: 13px;
      color: #374151;
    }

    /* --------- Ø§ÛŒÙ† Ø¨Ø®Ø´ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø±Ø¯ÛŒÙ Ø³Ø¤Ø§Ù„ + Ø¢ÙˆØ§ØªØ§Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§Ø³Øª --------- */
    .qa-row {
      margin-top: 16px;
      display: flex;
      align-items: stretch;
      gap: 16px;
    }

    .player-avatar {
      flex-shrink: 0;
      width: 32%;
      max-width: 140px;
      display: flex;
      justify-content: center;
      align-items: center;
      order: 1;   /* Ø¢ÙˆØ§ØªØ§Ø± Ø³Ù…Øª Ú†Ù¾ */
    }
    .player-avatar img {
      width: 100%;
      height: auto;
      display: block;
    }

    .qa-main {
      flex: 1;
      max-width: 68%;
      display: flex;
      flex-direction: column;
      order: 0;  /* Ø³ÙˆØ§Ù„ Ùˆ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø³Ù…Øª Ø±Ø§Ø³Øª */
    }

    @media (max-width: 480px) {
      .player-avatar {
        width: 38%;
        max-width: 120px;
      }
      .qa-main {
        max-width: 62%;
      }
      .question-block {
        font-size: 14px;
      }
    }
    /* --------------------------------------------------------------- */

    .question-block {
      margin-top: 18px;
      font-size: 15px;
      font-weight: 600;
      color: #111827;
      background: linear-gradient(135deg,#ffffff,#eef2ff);
      padding: 12px 14px;
      border-radius: 18px;
      box-shadow: 0 8px 18px rgba(15,23,42,0.08);
    }

    .options {
      margin-top: 12px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .option-btn {
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      padding: 10px 14px;
      font-size: 14px;
      background: #f9fafb;
      color: #111827;
      text-align: center;
      cursor: pointer;
      transition: background 0.14s ease, transform 0.12s ease, box-shadow 0.12s ease, border-color 0.12s ease;
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.04);
    }
    .option-btn:hover {
      background: #e5e7eb;
      border-color: #c7d2fe;
      transform: translateY(-1px);
      box-shadow: 0 6px 14px rgba(15, 23, 42, 0.08);
    }
    .option-btn.correct {
      background: #bbf7d0;
      color: #065f46;
      border-color: #4ade80;
    }
    .option-btn.wrong {
      background: #fecaca;
      color: #7f1d1d;
      border-color: #fca5a5;
    }

    .progress-bar-wrap {
      margin-top: 14px;
      height: 14px;
      width: 100%;
      background: #e5e7eb;
      border-radius: 999px;
      overflow: hidden;
      box-shadow: inset 0 0 4px rgba(15,23,42,0.2);
    }
    .progress-bar-inner {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #22c55e, #4ade80);
      transition: width 0.25s ease;
    }
    .stage-label {
      margin-top: 6px;
      font-size: 11px;
      color: #6b7280;
      text-align: left;
    }

    /* -------- ÙÙˆØªØ± -------- */
    footer {
      margin-top: 16px;
      padding-bottom: 4px;
    }
    .footer-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      font-size: 11px;
      color: #6b7280;
    }
    .footer-row a {
      color: #2563eb;
      text-decoration: none;
      font-weight: 600;
    }
    .footer-row a:hover {
      text-decoration: underline;
    }
    .restart-btn {
      border: none;
      border-radius: 999px;
      padding: 6px 14px;
      font-size: 11px;
      background: linear-gradient(135deg, #fb7185, #f97316);
      color: #fff;
      cursor: pointer;
      flex-shrink: 0;
    }

    /* -------- Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¹Ù…ÙˆÙ…ÛŒ -------- */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.4);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 20;
    }
    .modal-backdrop.active {
      display: flex;
    }
    .modal {
      background: #ffffff;
      border-radius: 18px;
      padding: 16px 18px;
      max-width: 320px;
      width: 90%;
      box-shadow: 0 14px 32px rgba(15, 23, 42, 0.3);
      font-size: 13px;
    }
    .modal h3 {
      margin: 0 0 8px;
      font-size: 16px;
    }
    .modal p {
      margin: 4px 0;
      color: #4b5563;
      line-height: 1.7;
      white-space: pre-line;
    }
    .modal-close {
      margin-top: 10px;
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 8px 0;
      font-size: 13px;
      background: #4f46e5;
      color: #fff;
      cursor: pointer;
    }

    /* -------- Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø´Ø±ÙˆØ¹ (Ù†Ø§Ù… + Ú©Ø§Ø±Ø§Ú©ØªØ±) -------- */
    .onboard-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.45);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 30;
    }
    .onboard-backdrop.active {
      display: flex;
    }
    .onboard-modal {
      background: #ffffff;
      border-radius: 20px;
      padding: 18px 20px;
      max-width: 360px;
      width: 92%;
      box-shadow: 0 18px 40px rgba(15, 23, 42, 0.35);
      font-size: 13px;
      text-align: right;
    }
    .onboard-modal h3 {
      margin: 0 0 8px;
      font-size: 18px;
    }
    .onboard-modal p {
      margin: 4px 0 10px;
      color: #4b5563;
      line-height: 1.7;
    }
    .onboard-input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      padding: 8px 12px;
      margin-bottom: 12px;
      font-size: 13px;
    }
    .avatar-choices {
      display: flex;
      gap: 10px;
      margin-bottom: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }
    .avatar-choice {
      border-radius: 16px;
      border: 2px solid transparent;
      padding: 4px;
      background: #f9fafb;
      cursor: pointer;
      width: 70px;
      height: 70px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(15,23,42,0.12);
    }
    .avatar-choice img {
      max-width: 100%;
      max-height: 100%;
      border-radius: 12px;
      object-fit: cover;
    }
    .avatar-choice.selected {
      border-color: #4f46e5;
      box-shadow: 0 0 0 3px rgba(79,70,229,0.25);
    }
    .onboard-confirm {
      margin-top: 4px;
      width: 100%;
      border-radius: 999px;
      border: none;
      padding: 9px 0;
      font-size: 14px;
      background: linear-gradient(135deg, #4f46e5, #6366f1);
      color: #fff;
      cursor: pointer;
    }
  </style>
</head>
<body>
<div class="app">

  <!-- Ù‡Ø¯Ø± -->
  <div class="card header-card">
    <div class="header">
      <!-- Ø±Ø§Ø³Øª: Ù„ÙˆÚ¯ÙˆØŒ Ø¹Ù†ÙˆØ§Ù†ØŒ Ú©Ø§Ø±Ø¨Ø± -->
      <div class="header-right">
        <div class="logo">
          <img src="https://cdnfa.com/irangiah/a9be/uploads/bazi2/logo.webp" alt="Ù„ÙˆÚ¯Ùˆ Ø·Ø§ÙˆÛŒØªØ§">
        </div>
        <div class="header-title-wrap">
          <div class="header-title">
            <h1>Ø¨Ø§Ø²ÛŒ Ù‡ÙˆØ´ÛŒØªØ§</h1>
            <p>Ø°Ù‡Ù†Øª Ø±Ùˆ Ø¨Ù‡ Ú†Ø§Ù„Ø´ Ø¨Ú©Ø´...</p>
          </div>
          <div class="user-box">
            <div>Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±: <span id="userName">Ø±Ù‡Ø§</span></div>
            <div>Ø§Ù…ØªÛŒØ§Ø² Ú©Ù„: <span id="totalStars">0</span></div>
          </div>
        </div>
      </div>
      <!-- Ú†Ù¾: Ø±Ø§Ù‡Ù†Ù…Ø§ Ùˆ Ø¯Ø±Ø¨Ø§Ø±Ù‡ -->
      <div class="header-left">
        <button class="pill-btn" id="helpBtn">Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¨Ø§Ø²ÛŒ</button>
        <button class="pill-btn" id="aboutBtn">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø·Ø§ÙˆÛŒØªØ§</button>
      </div>
    </div>
  </div>

  <!-- Ù†ÙˆØ§Ø± ÙˆØ¶Ø¹ÛŒØª -->
  <div class="card status-bar">
    <div class="status-pill clickable" id="achievementsBtn">
      <span>ğŸ† Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§</span>
    </div>
    <div class="status-pill">
      Ø¨Ø§Ø²ÛŒ ÙØ¹Ù„ÛŒ: <span id="currentGameLabel">-</span>
    </div>
    <div class="status-pill">
      Ù…Ø±Ø­Ù„Ù‡: <span id="currentStageLabel">-</span>
    </div>
  </div>

  <!-- ÙÙ‡Ø±Ø³Øª Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ -->
  <div class="card" id="gamesScreen">
    <div class="games-grid" id="gamesGrid"></div>
  </div>

  <!-- ØµÙØ­Ù‡â€ŒÛŒ Ø¨Ø§Ø²ÛŒ -->
  <div class="card hidden" id="gameScreen">
    <div class="game-header-row">
      <div class="game-title-area">
        <h2 class="game-main-title" id="gameTitle"></h2>
        <p class="game-subtitle" id="gameSubtitle"></p>
      </div>
      <button class="back-btn" id="backToListBtn">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ÙÙ‡Ø±Ø³Øª</button>
    </div>

    <div class="game-top-stats">
      <div class="stat-pill star-pill" id="starStat">
        <span class="icon">â­</span>
        <span>Ø§Ù…ØªÛŒØ§Ø²:</span>
        <span id="gameStars">0</span>
      </div>
      <div class="stat-pill heart-pill" id="heartStat">
        <span class="icon">â¤ï¸</span>
        <span>Ø¬Ø§Ù†:</span>
        <span id="heartsCount">3</span>
      </div>
      <div class="stat-pill timer-pill">
        â± Ø²Ù…Ø§Ù† Ø¨Ø§Ù‚ÛŒÙ…Ø§Ù†Ø¯Ù‡:
        <span id="timerValue">-- Ø«Ø§Ù†ÛŒÙ‡</span>
      </div>
    </div>

    <div class="coach-row">
      <div class="coach-avatar">
        <img id="coachImg" src="https://cdnfa.com/irangiah/a9be/uploads/bazi2/mehraban.webp" alt="Ø·Ø§ÙˆÛŒØªØ§">
      </div>
      <div class="coach-bubble" id="coachText">
        Ø¢Ø±ÙˆÙ… Ø¨Ø§Ø´ØŒ Ø¨Ø§ Ø¯Ù‚Øª Ø¬ÙˆØ§Ø¨ Ø¨Ø¯Ù‡. Ø¨Ø¨ÛŒÙ†ÛŒÙ… Ú†Ù‚Ø¯Ø± Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø¬Ù„Ùˆ Ø¨Ø±ÛŒ.
      </div>
    </div>

    <!-- Ø±Ø¯ÛŒÙ Ø¢ÙˆØ§ØªØ§Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† + Ø³ÙˆØ§Ù„ Ùˆ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ -->
    <div class="qa-row">
      <div class="player-avatar">
        <img id="playerAvatar" src="https://cdnfa.com/irangiah/a9be/uploads/bazi2/av-g-ch.webp" alt="Ø¢ÙˆØ§ØªØ§Ø± Ø¨Ø§Ø²ÛŒÚ©Ù†">
      </div>
      <div class="qa-main">
        <div class="question-block" id="questionText"></div>
        <div class="options" id="optionsContainer"></div>
      </div>
    </div>

    <div class="progress-bar-wrap">
      <div class="progress-bar-inner" id="progressInner"></div>
    </div>
    <div class="stage-label" id="stageLabelBottom"></div>
  </div>

  <!-- ÙÙˆØªØ± -->
  <footer>
    <div class="footer-row">
      <button class="restart-btn" id="restartBtn">Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§Ø²ÛŒ</button>
      <div>
        Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ ØªÙˆØ³Ø· Ø·Ø§ÙˆÛŒØªØ§ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡.
        <a href="https://eitaa.com/tavita" target="_blank">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ø·Ø§ÙˆÛŒØªØ§</a>
      </div>
    </div>
  </footer>
</div>

<!-- Ù¾Ø§Ù¾â€ŒØ¢Ù¾â€ŒÙ‡Ø§ -->
<div class="modal-backdrop" id="modalBackdrop">
  <div class="modal" id="modalBox">
    <h3 id="modalTitle">Ø¹Ù†ÙˆØ§Ù†</h3>
    <p id="modalBody">Ù…ØªÙ† Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø§ÛŒÙ†Ø¬Ø§Ø³Øª.</p>
    <button class="modal-close" id="modalCloseBtn">Ø¨Ø§Ø´Ù‡</button>
  </div>
</div>

<!-- Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø´Ø±ÙˆØ¹ (Ù†Ø§Ù… + Ú©Ø§Ø±Ø§Ú©ØªØ±) -->
<div class="onboard-backdrop" id="onboardBackdrop">
  <div class="onboard-modal">
    <h3>Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ù‡ÙˆØ´ÛŒØªØ§ ğŸ®</h3>
    <p>Ø§ÙˆÙ„ Ø§Ø³Ù…Øª Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³ Ùˆ ÛŒÚ©ÛŒ Ø§Ø² Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ ØªØ§ÙˆÛŒØªØ§ Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†. Ù‡Ø± ÙˆÙ‚Øª Ø¨Ø±Ú¯Ø´ØªÛŒØŒ Ø§Ø² Ù‡Ù…ÛŒÙ†â€ŒØ¬Ø§ Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒâ€ŒØ¯ÛŒ.</p>
    <input id="onboardNameInput" class="onboard-input" type="text" placeholder="Ù…Ø«Ù„Ø§Ù‹ Ø§Ù„Ù‡Ù‡">

    <div class="avatar-choices">
      <button type="button" class="avatar-choice selected"
              data-avatar="https://cdnfa.com/irangiah/a9be/uploads/bazi2/av-g-ch.webp">
        <img src="https://cdnfa.com/irangiah/a9be/uploads/bazi2/av-g-ch.webp" alt="Ú©Ø§Ø±Ø§Ú©ØªØ± Û±">
      </button>

      <button type="button" class="avatar-choice"
              data-avatar="https://cdnfa.com/irangiah/a9be/uploads/bazi2/av-g-m.webp">
        <img src="https://cdnfa.com/irangiah/a9be/uploads/bazi2/av-g-m.webp" alt="Ú©Ø§Ø±Ø§Ú©ØªØ± Û²">
      </button>

      <button type="button" class="avatar-choice"
              data-avatar="https://cdnfa.com/irangiah/a9be/uploads/bazi2/av-m-s.webp">
        <img src="https://cdnfa.com/irangiah/a9be/uploads/bazi2/av-m-s.webp" alt="Ú©Ø§Ø±Ø§Ú©ØªØ± Û³">
      </button>

      <button type="button" class="avatar-choice"
              data-avatar="https://cdnfa.com/irangiah/a9be/uploads/bazi2/av-m-ai.webp">
        <img src="https://cdnfa.com/irangiah/a9be/uploads/bazi2/av-m-ai.webp" alt="Ú©Ø§Ø±Ø§Ú©ØªØ± Û´">
      </button>
    </div>

    <button id="onboardConfirmBtn" class="onboard-confirm">Ø¨Ø²Ù† Ø¨Ø±ÛŒÙ… ğŸ˜</button>
  </div>
</div>

<script>
  // -------- Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ --------
  const gamesData = [
    {
      id: 1,
      title: "Ø¨Ø§Ø²ÛŒ Û± - Ù‡ÙˆØ´ Ùˆ Ù…Ù†Ø·Ù‚",
      subtitle: "Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯ÛŒ Ùˆ Ù…Ù†Ø·Ù‚ÛŒØ› Ø§Ø² Ù…ØªÙˆØ³Ø· ØªØ§ Ø®ÛŒÙ„ÛŒ Ø³Ø®Øª.",
      teaser: "Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ù…ØºØ²Øª Ø±Ùˆ Ø¨Ø§ Ø§Ø¹Ø¯Ø§Ø¯ Ùˆ Ø§Ù„Ú¯ÙˆÙ‡Ø§ Ù‚Ù„Ù‚Ù„Ú© Ø¨Ø¯ÛŒØŸ",
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/kart-hoosh.webp",
      // coachImg Ù‚Ø¨Ù„ÛŒ ÙØ¹Ù„Ø§Ù‹ Ø¯ÛŒÚ¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ù…Ø±Ø¨ÛŒ Ø§Ø² coachStates Ù…ÛŒâ€ŒØ¢ÛŒØ¯
      coachImg: "",
      timePerStageSec: 8,
      locked: false,
      stages: [
        { q: "Ø§Ú¯Ø± Û²ØŒÛ´ØŒÛ¶ØŒÛ¸... Ø§Ø¯Ø§Ù…Ù‡ Ù¾ÛŒØ¯Ø§ Ú©Ù†Ø¯ØŒ Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û±Û°","Û±Û²","Û¹"], correct: 0 },
        { q: "Ø¹Ø¯Ø¯ Ù…ÛŒØ§Ù†ÛŒ Ø¨ÛŒÙ† Ûµ Ùˆ Û¹ØŸ", options: ["Û´","Û·","Û±Û°"], correct: 1 },
        { q: "Ø¬Ù…Ø¹ Û¸ Ùˆ Û·ØŸ", options: ["Û±Ûµ","Û±Û´","Û±Û¶"], correct: 0 },
        { q: "Ø¯Ø± Û³ØŒÛ¶ØŒÛ¹ØŒÛ±Û²... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û±Û³","Û±Ûµ","Û±Û¸"], correct: 1 },
        { q: "Ø¨Ø§Ù‚ÛŒâ€ŒÙ…Ø§Ù†Ø¯Ù‡Ù” Û· Ã· Û²ØŸ", options: ["Û±","Û²","Û³"], correct: 0 },

        { q: "Ø§Ú¯Ø± x + Û³ = Û· Ø¨Ø§Ø´Ø¯ØŒ Ù…Ù‚Ø¯Ø§Ø± xØŸ", options: ["Û³","Û´","Ûµ"], correct: 1 },
        { q: "Ø¯Ø± Ø¯Ù†Ø¨Ø§Ù„Ù‡Ù” Û±Û°ØŒÛ²Û°ØŒÛ³Û°... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û´Û°","Û³Ûµ","Û²Ûµ"], correct: 0 },
        { q: "Ú©Ø¯Ø§Ù… Ø¹Ø¯Ø¯ ÙØ±Ø¯ Ø§Ø³ØªØŸ", options: ["Û¸","Û¹","Û±Û°"], correct: 1 },
        { q: "Ú©Ø¯Ø§Ù… Ø¹Ø¯Ø¯ Ø²ÙˆØ¬ Ø§Ø³ØªØŸ", options: ["Û±Û±","Û±Û³","Û±Û´"], correct: 2 },
        { q: "Ø¹Ø¯Ø¯ Ù…ÛŒØ§Ù†ÛŒ Ø¨ÛŒÙ† Û² Ùˆ Û¸ØŸ", options: ["Û³","Ûµ","Û·"], correct: 1 },

        { q: "Ú©Ø¯Ø§Ù… Ø¨Ø²Ø±Ú¯â€ŒØªØ± Ø§Ø³ØªØŸ", options: ["Û²Û³","Û³Û²","Û²Û¹"], correct: 1 },
        { q: "Ú©Ø¯Ø§Ù… Ú©ÙˆÚ†Ú©â€ŒØªØ± Ø§Ø³ØªØŸ", options: ["Û´Ûµ","Û´Û°","Û³Û¸"], correct: 2 },
        { q: "Ø§Ú¯Ø± Û³ Ã— ? = Û±ÛµØŒ Ø¹Ø¯Ø¯ Ù…Ø¬Ù‡ÙˆÙ„ØŸ", options: ["Ûµ","Û´","Û¶"], correct: 0 },
        { q: "Ø¯Ø± ÛµØŒÛ±Û°ØŒÛ²Û°ØŒÛ´Û°... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û¶Û°","Û¸Û°","Û·Ûµ"], correct: 1 },
        { q: "Ø¬Ù…Ø¹ Û±Û°ØŒÛ±Û° Ùˆ ÛµØŸ", options: ["Û²Ûµ","Û²Û°","Û±Ûµ"], correct: 0 },

        { q: "Ø§Ú¯Ø± Û² ÙˆØ§Ø­Ø¯ Ø§Ø² Û¹ Ú©Ù… Ú©Ù†ÛŒÙ…ØŒ Ø­Ø§ØµÙ„ØŸ", options: ["Û·","Û¶","Û¸"], correct: 0 },
        { q: "Ù†ØµÙ Ø¹Ø¯Ø¯ Û±Û¸ØŸ", options: ["Û¹","Û¸","Û¶"], correct: 0 },
        { q: "Ø¯Ùˆ Ø¨Ø±Ø§Ø¨Ø± Ø¹Ø¯Ø¯ Û·ØŸ", options: ["Û±Û´","Û±Û²","Û±Û¶"], correct: 0 },
        { q: "Ø¯Ø± Û±ØŒÛ³ØŒÛµØŒÛ·... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û¸","Û¹","Û±Û±"], correct: 1 },
        { q: "Ø¯Ø± Û²ØŒÛµØŒÛ¸ØŒÛ±Û±... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û±Û³","Û±Û´","Û±Ûµ"], correct: 1 }
      ]
    },
    {
      id: 2,
      title: "Ø¨Ø§Ø²ÛŒ Û² - ØªÙ…Ø±Ú©Ø² Ùˆ Ø­Ø§ÙØ¸Ù‡",
      subtitle: "Ø§Ù„Ú¯ÙˆÙ‡Ø§ØŒ ØªÚ©Ø±Ø§Ø±Ù‡Ø§ Ùˆ ØªÙØ§ÙˆØªâ€ŒÙ‡Ø§ÛŒ Ø¸Ø±ÛŒÙØ› Ø­ÙˆØ§Ø³Øª Ø±Ùˆ Ø¬Ù…Ø¹ Ú©Ù†.",
      teaser: "Ø§Ú¯Ù‡ Ø­ÙˆØ§Ø³Øª Ù¾Ø±Øª Ø¨Ø´Ù‡ØŒ Ø³Ø±ÛŒØ¹ Ø§Ø´ØªØ¨Ø§Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ!",
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/kart-tamarkoz.webp",
      coachImg: "",
      timePerStageSec: 10,
      locked: true,
      stages: [
        { q: "Ø¯Ø± Ø¯Ù†Ø¨Ø§Ù„Ù‡ A, B, C, D... Ø­Ø±Ù Ø¨Ø¹Ø¯ÛŒØŸ", options: ["E","F","G"], correct: 0 },
        { q: "Ø¯Ø± Û±ØŒÛ²ØŒÛ±ØŒÛ²... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û±","Û²","Û³"], correct: 0 },
        { q: "Ø¯Ø± Û²ØŒÛ´ØŒÛ²ØŒÛ´... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û²","Û´","Û¶"], correct: 0 },
        { q: "Ø¯Ø± Ø³Ø±Ø®ØŒØ¢Ø¨ÛŒØŒØ³Ø±Ø®ØŒØ¢Ø¨ÛŒ... Ø±Ù†Ú¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Ø³Ø¨Ø²","Ù‚Ø±Ù…Ø²","Ø²Ø±Ø¯"], correct: 1 },
        { q: "Ø¯Ø± Ø´Ù†Ø¨Ù‡ØŒÛŒÚ©Ø´Ù†Ø¨Ù‡ØŒØ´Ù†Ø¨Ù‡ØŒÛŒÚ©Ø´Ù†Ø¨Ù‡... Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Ø´Ù†Ø¨Ù‡","Ø³Ù‡â€ŒØ´Ù†Ø¨Ù‡","Ø¬Ù…Ø¹Ù‡"], correct: 0 },

        { q: "Ø¯Ø± ÛµØŒÛ·ØŒÛµØŒÛ·... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Ûµ","Û¶","Û·"], correct: 0 },
        { q: "Ø¯Ø± Û¹ØŒÛ¸ØŒÛ·ØŒÛ¶... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û·","Ûµ","Û³"], correct: 1 },
        { q: "Ø¯Ø± Û±ØŒÛ³ØŒÛ±ØŒÛ³ØŒÛ±... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û±","Û³","Ûµ"], correct: 1 },
        { q: "Ú©Ø¯Ø§Ù… Ø¨Ø§ Ø¨Ù‚ÛŒÙ‡ Ù…ØªÙØ§ÙˆØª Ø§Ø³ØªØŸ", options: ["Ú©ØªØ§Ø¨","Ø¯ÙØªØ±","Ø³ÛŒØ¨"], correct: 2 },
        { q: "Ø¯Ø± Ú†Ù¾ØŒØ±Ø§Ø³ØªØŒÚ†Ù¾ØŒØ±Ø§Ø³Øª... Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Ú†Ù¾","ÙˆØ³Ø·","Ø±Ø§Ø³Øª"], correct: 0 },

        { q: "Ø¯Ø± Û±Û°ØŒÛ²Û°ØŒÛ±Û°ØŒÛ²Û°... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û±Û°","Û²Û°","Û³Û°"], correct: 0 },
        { q: "Ø§Ù„Ú¯Ùˆ: Ù…Ø±Ø¨Ø¹ØŒØ¯Ø§ÛŒØ±Ù‡ØŒÙ…Ø±Ø¨Ø¹... Ø´Ú©Ù„ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Ù…Ø«Ù„Ø«","Ø¯Ø§ÛŒØ±Ù‡","Ù…Ø±Ø¨Ø¹"], correct: 1 },
        { q: "Ø¯Ø± Û±ØŒÛ´ØŒÛ·ØŒÛ±Û°... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û±Û³","Û±Û²","Û±Ûµ"], correct: 0 },
        { q: "Ø¯Ø± Û²ØŒÛ³ØŒÛµØŒÛ¸... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û±Û°","Û±Û±","Û±Û²"], correct: 2 },
        { q: "Ø¯Ø± Û²ØŒÛ²ØŒÛ³ØŒÛ³... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û³","Û´","Û²"], correct: 1 },

        { q: "Ø¯Ø± ØªÙˆØ§Ù„ÛŒ Ø´ØŒÛŒØŒØ´ØŒÛŒ... Ø­Ø±Ù Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Ø´","ÛŒ","Ø³"], correct: 0 },
        { q: "Ø¯Ø± Ø§Ù„Ú¯ÙˆÛŒ Û±AØŒÛ²AØŒÛ³A... Ù…ÙˆØ±Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û´A","Û³B","Û´B"], correct: 0 },
        { q: "Ø¯Ø± ÛµØŒÛ¶ØŒÛ¸ØŒÛ±Û±... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û±Û³","Û±Ûµ","Û±Û´"], correct: 1 },
        { q: "Ø¯Ø± Ù‚Ø±Ù…Ø²ØŒÙ‚Ø±Ù…Ø²ØŒØ¢Ø¨ÛŒØŒÙ‚Ø±Ù…Ø²ØŒÙ‚Ø±Ù…Ø²... Ø±Ù†Ú¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Ø¢Ø¨ÛŒ","Ù‚Ø±Ù…Ø²","Ø³Ø¨Ø²"], correct: 0 },
        { q: "Ø¯Ø± Û³ØŒÛ³ØŒÛ¶ØŒÛ¶ØŒÛ¹ØŒÛ¹... Ø¹Ø¯Ø¯ Ø¨Ø¹Ø¯ÛŒØŸ", options: ["Û¹","Û±Û²","Û¶"], correct: 1 }
      ]
    },
    {
      id: 3,
      title: "Ø¨Ø§Ø²ÛŒ Û³ - Ø¹Ù„Ù…ÛŒ",
      subtitle: "Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ÛŒ Ø¹Ù„Ù…ÛŒ Ø§Ø² Ù…Ø¯Ø±Ø³Ù‡ ØªØ§ Ø²Ù†Ø¯Ú¯ÛŒ Ø±ÙˆØ²Ù…Ø±Ù‡.",
      teaser: "Ø¨Ø¨ÛŒÙ† Ø§Ø² Ø¹Ù„ÙˆÙ… Ù¾Ø§ÛŒÙ‡ Ú†Ù‚Ø¯Ø± ÛŒØ§Ø¯Øª Ù…ÙˆÙ†Ø¯Ù‡.",
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/kart-elm.webp",
      coachImg: "",
      timePerStageSec: 10,
      locked: true,
      stages: [
        {q:"Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ø³ÛŒØ§Ø±Ù‡ Ø¨Ù‡ Ø®ÙˆØ±Ø´ÛŒØ¯ØŸ",options:["Ø²Ù‡Ø±Ù‡","Ø¹Ø·Ø§Ø±Ø¯","Ù…Ø±ÛŒØ®"],correct:1},
        {q:"Ø¢Ø¨ Ø¯Ø± Ú†Ù†Ø¯ Ø¯Ø±Ø¬Ù‡ Ø³Ø§Ù†ØªÛŒâ€ŒÚ¯Ø±Ø§Ø¯ Ù…ÛŒâ€ŒØ¬ÙˆØ´Ø¯ØŸ",options:["ÛµÛ°","Û±Û°Û°","Û¸Û°"],correct:1},
        {q:"ÙˆØ§Ø­Ø¯ Ø·ÙˆÙ„ Ø¯Ø± Ø¯Ø³ØªÚ¯Ø§Ù‡ SIØŸ",options:["Ù…ØªØ±","Ø«Ø§Ù†ÛŒÙ‡","Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…"],correct:0},
        {q:"Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ú¯Ø§Ø² Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ù‡ÙˆØ§ØŸ",options:["Ø§Ú©Ø³ÛŒÚ˜Ù†","Ù†ÛŒØªØ±ÙˆÚ˜Ù†","Ù‡Ù„ÛŒÙˆÙ…"],correct:1},
        {q:"Ù‚Ù„Ø¨ Ø§Ù†Ø³Ø§Ù† Ú†Ù†Ø¯ Ø­ÙØ±Ù‡ Ø¯Ø§Ø±Ø¯ØŸ",options:["Ø¯Ùˆ","Ø³Ù‡","Ú†Ù‡Ø§Ø±"],correct:2},
        {q:"Ø²Ù…ÛŒÙ† Ø¨Ù‡ Ø¯ÙˆØ± Ú†Ù‡ Ù…ÛŒâ€ŒÚ†Ø±Ø®Ø¯ØŸ",options:["Ù…Ø§Ù‡","Ø®ÙˆØ±Ø´ÛŒØ¯","Ù…Ø±ÛŒØ®"],correct:1},
        {q:"Ú©Ø¯Ø§Ù… Ø§Ù†Ø¯Ø§Ù… Ø¨Ø±Ø§ÛŒ ØªÙ†ÙØ³ Ø§Ø³ØªØŸ",options:["Ø±ÛŒÙ‡","Ù…Ø¹Ø¯Ù‡","Ú©Ø¨Ø¯"],correct:0},
        {q:"Ú©Ø¯Ø§Ù… Ø­ÛŒÙˆØ§Ù† Ù¾Ø³ØªØ§Ù†Ø¯Ø§Ø± Ø§Ø³ØªØŸ",options:["Ù…Ø§Ù‡ÛŒ","Ú¯Ø±Ø¨Ù‡","Ù…Ø§Ø±"],correct:1},
        {q:"Ú¯ÛŒØ§Ù‡ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª ØºØ°Ø§ Ø¨Ù‡ Ú†Ù‡ Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ø¯ØŸ",options:["Ù†ÙˆØ± Ùˆ Ø¢Ø¨","Ø·Ù„Ø§","Ù†Ù…Ú©"],correct:0},
        {q:"Ú©Ø¯Ø§Ù… Ø¯Ø± Ú¯Ø±ÙˆÙ‡ ÙÙ„Ø²Ø§Øª Ø§Ø³ØªØŸ",options:["Ø¢Ù‡Ù†","Ú†ÙˆØ¨","Ø´ÛŒØ´Ù‡"],correct:0},
        {q:"Ú©Ø¯Ø§Ù… Ø³ÛŒØ§Ø±Ù‡ Â«Ø³ÛŒØ§Ø±Ù‡ Ø³Ø±Ø®Â» Ø§Ø³ØªØŸ",options:["Ù…Ø±ÛŒØ®","Ø²Ø­Ù„","Ù…Ø´ØªØ±ÛŒ"],correct:0},
        {q:"Ú©Ø¯Ø§Ù… Ø¹Ø¶ÙˆØŒ Ø®ÙˆÙ† Ø±Ø§ Ù¾Ù…Ù¾ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ",options:["Ú©Ø¨Ø¯","Ù‚Ù„Ø¨","Ø±ÛŒÙ‡"],correct:1},
        {q:"Ø¢Ø¨ Ø¯Ø± Ú†Ù†Ø¯ Ø¯Ø±Ø¬Ù‡ Ø³Ø§Ù†ØªÛŒâ€ŒÚ¯Ø±Ø§Ø¯ ÛŒØ® Ù…ÛŒâ€ŒØ²Ù†Ø¯ØŸ",options:["Û°","Ûµ","Û±Û°"],correct:0},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ù…Ù†Ø¨Ø¹ Ø§Ù†Ø±Ú˜ÛŒ ØªØ¬Ø¯ÛŒØ¯Ù¾Ø°ÛŒØ± Ø§Ø³ØªØŸ",options:["Ù†ÙØª","Ø¨Ø§Ø¯","Ø¨Ù†Ø²ÛŒÙ†"],correct:1},
        {q:"Ù…ØºØ² Ø¯Ø± Ú©Ø¯Ø§Ù… Ù‚Ø³Ù…Øª Ø¨Ø¯Ù† Ø§Ø³ØªØŸ",options:["Ø¬Ù…Ø¬Ù…Ù‡","Ù‚ÙØ³Ù‡ Ø³ÛŒÙ†Ù‡","Ø´Ú©Ù…"],correct:0},
        {q:"Ø¬Ù‡Øª Ø­Ø±Ú©Øª Ø¹Ù‚Ø±Ø¨Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø§Ø¹ØªØŸ",options:["Ø³Ø§Ø¹ØªÚ¯Ø±Ø¯","Ù¾Ø§Ø¯Ø³Ø§Ø¹ØªÚ¯Ø±Ø¯","ØªØµØ§Ø¯ÙÛŒ"],correct:0},
        {q:"Ú©Ø¯Ø§Ù… ÙˆØ§Ø­Ø¯ Ø²Ù…Ø§Ù† Ø§Ø³ØªØŸ",options:["ÙˆØ§Øª","Ø¯Ù‚ÛŒÙ‚Ù‡","Ù…ØªØ±"],correct:1},
        {q:"Ú©Ø¯Ø§Ù… Ø­ÛŒÙˆØ§Ù† ØªØ®Ù…â€ŒÚ¯Ø°Ø§Ø± Ø§Ø³ØªØŸ",options:["Ú¯Ø§Ùˆ","Ù…Ø±Øº","Ø³Ú¯"],correct:1},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ù…Ø§ÛŒØ¹ Ø¯Ø± Ø¯Ù…Ø§ÛŒ Ø§ØªØ§Ù‚ Ø§Ø³ØªØŸ",options:["Ø³Ù†Ú¯","Ø±ÙˆØºÙ†","ÛŒØ®"],correct:1},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ø­Ø³ Ù¾Ù†Ø¬â€ŒÚ¯Ø§Ù†Ù‡ Ú©Ù„Ø§Ø³ÛŒÚ© Ù†ÛŒØ³ØªØŸ",options:["Ú†Ø´Ø§ÛŒÛŒ","Ø¨ÙˆÛŒØ§ÛŒÛŒ","ØªØ¹Ø§Ø¯Ù„"],correct:2}
      ]
    },
    {
      id: 4,
      title: "Ø¨Ø§Ø²ÛŒ Û´ - ØªØ§Ø±ÛŒØ®ÛŒ Ùˆ ÙØ±Ù‡Ù†Ú¯ÛŒ",
      subtitle: "Ø§Ø² Ø§ÛŒØ±Ø§Ù† Ùˆ Ø¬Ù‡Ø§Ù†ØŒ Ø§Ø² Ù†ÙˆØ±ÙˆØ² ØªØ§ ØªØ®Øª Ø¬Ù…Ø´ÛŒØ¯.",
      teaser: "Ù‡Ù… Ù‡Ù…â€ŒÙˆØ·Ù†â€ŒØ¯ÙˆØ³Øªâ€ŒÙ‡Ø§ØŒ Ù‡Ù… Ø§Ù‡Ù„ ÙØ±Ù‡Ù†Ú¯ Ø§ÛŒÙ†â€ŒØ¬Ø§Ø±Ùˆ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±Ù†.",
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/kart-tarikh.webp",
      coachImg: "",
      timePerStageSec: 12,
      locked: true,
      stages: [
        {q:"Ù¾Ø§ÛŒØªØ®Øª Ø§ÛŒØ±Ø§Ù†ØŸ",options:["ØªÙ‡Ø±Ø§Ù†","Ø´ÛŒØ±Ø§Ø²","ØªØ¨Ø±ÛŒØ²"],correct:0},
        {q:"Ù†ÙˆØ±ÙˆØ² Ø¢ØºØ§Ø² Ú©Ø¯Ø§Ù… ÙØµÙ„ Ø§Ø³ØªØŸ",options:["Ø¨Ù‡Ø§Ø±","ØªØ§Ø¨Ø³ØªØ§Ù†","Ù¾Ø§ÛŒÛŒØ²"],correct:0},
        {q:"Ø²Ø¨Ø§Ù† Ø±Ø³Ù…ÛŒ Ø§ÛŒØ±Ø§Ù†ØŸ",options:["Ø¹Ø±Ø¨ÛŒ","ÙØ§Ø±Ø³ÛŒ","ØªØ±Ú©ÛŒ"],correct:1},
        {q:"Ø­Ø§ÙØ¸ Ø¨ÛŒØ´ØªØ± Ø¨Ù‡ Ú†Ù‡ Ø´Ù†Ø§Ø®ØªÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ",options:["Ø´Ø§Ø¹Ø±","Ù†Ù‚Ø§Ø´","Ù…ÙˆØ³ÛŒÙ‚ÛŒâ€ŒØ¯Ø§Ù†"],correct:0},
        {q:"ØªØ®Øª Ø¬Ù…Ø´ÛŒØ¯ Ù†Ø²Ø¯ÛŒÚ© Ú©Ø¯Ø§Ù… Ø´Ù‡Ø± Ø§Ø³ØªØŸ",options:["Ø´ÛŒØ±Ø§Ø²","ØªØ¨Ø±ÛŒØ²","Ù…Ø´Ù‡Ø¯"],correct:0},
        {q:"ÙˆØ§Ù‚Ø¹Ù‡ Ø¹Ø§Ø´ÙˆØ±Ø§ Ø¯Ø± Ú©Ø¬Ø§ Ø±Ø® Ø¯Ø§Ø¯ØŸ",options:["Ú©ÙˆÙÙ‡","Ú©Ø±Ø¨Ù„Ø§","Ù…Ø¯ÛŒÙ†Ù‡"],correct:1},
        {q:"Ù…Ø´Ù‡Ø¯ Ø¨Ù‡ Ú©Ø¯Ø§Ù… Ø§Ù…Ø§Ù… Ù…Ø´Ù‡ÙˆØ± Ø§Ø³ØªØŸ",options:["Ø§Ù…Ø§Ù… Ø±Ø¶Ø§(Ø¹)","Ø§Ù…Ø§Ù… Ø¹Ù„ÛŒ(Ø¹)","Ø§Ù…Ø§Ù… Ø³Ø¬Ø§Ø¯(Ø¹)"],correct:0},
        {q:"Ø²Ø¨Ø§Ù† Ù‚Ø±Ø¢Ù†ØŸ",options:["ÙØ§Ø±Ø³ÛŒ","Ø¹Ø±Ø¨ÛŒ","ØªØ±Ú©ÛŒ"],correct:1},
        {q:"Ú©Ø¯Ø§Ù… Ø´Ø§Ø¹Ø± Ø§ÛŒØ±Ø§Ù†ÛŒ Ø§Ø³ØªØŸ",options:["Ù…ÙˆÙ„ÙˆÛŒ","Ø´Ú©Ø³Ù¾ÛŒØ±","Ú¯ÙˆØªÙ‡"],correct:0},
        {q:"Ú©Ø¯Ø§Ù… Ø±Ù†Ú¯ Ø¯Ø± Ù¾Ø±Ú†Ù… Ø§ÛŒØ±Ø§Ù† Ù†ÛŒØ³ØªØŸ",options:["Ø³Ø¨Ø²","Ø¢Ø¨ÛŒ","Ù‚Ø±Ù…Ø²"],correct:1},
        {q:"Ú©Ø¯Ø§Ù… Ø´Ù‡Ø± Ø¯Ø± Ø§ÛŒØ±Ø§Ù† Ù†ÛŒØ³ØªØŸ",options:["Ø§ØµÙÙ‡Ø§Ù†","Ø¨ØºØ¯Ø§Ø¯","Ù‚Ù…"],correct:1},
        {q:"ÛŒØ²Ø¯ Ø¨Ù‡ Ú†Ù‡ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù…Ø¹Ø±ÙˆÙ Ø§Ø³ØªØŸ",options:["Ø¨Ø§Ø¯Ú¯ÛŒØ±","Ø¨Ø±Ø¬ Ø´ÛŒØ´Ù‡â€ŒØ§ÛŒ","Ø¢Ø³Ù…Ø§Ù†â€ŒØ®Ø±Ø§Ø´"],correct:0},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ø¨Ù†Ø§ÛŒ Ù…Ø°Ù‡Ø¨ÛŒ Ù…Ø¹Ø±ÙˆÙ Ø¯Ø± Ø§ÛŒØ±Ø§Ù† Ø§Ø³ØªØŸ",options:["Ø­Ø±Ù… Ø§Ù…Ø§Ù… Ø±Ø¶Ø§(Ø¹)","Ø¨Ø±Ø¬ Ø§ÛŒÙÙ„","Ø§Ù‡Ø±Ø§Ù… Ù…ØµØ±"],correct:0},
        {q:"Ø§ÛŒØ±Ø§Ù† Ø¯Ø± Ú©Ø¯Ø§Ù… Ù‚Ø§Ø±Ù‡ Ø§Ø³ØªØŸ",options:["Ø¢Ø³ÛŒØ§","Ø§Ø±ÙˆÙ¾Ø§","Ø¢ÙØ±ÛŒÙ‚Ø§"],correct:0},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ø¬Ø´Ù† Ø§ÛŒØ±Ø§Ù†ÛŒ Ø§Ø³ØªØŸ",options:["Ú©Ø±ÛŒØ³Ù…Ø³","Ø´Ø¨ ÛŒÙ„Ø¯Ø§","Ù‡Ø§Ù„ÙˆÙˆÛŒÙ†"],correct:1},
        {q:"Ø®Ø· Ø±ÙˆÛŒ Ø§Ø³Ú©Ù†Ø§Ø³â€ŒÙ‡Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†ØŸ",options:["Ù„Ø§ØªÛŒÙ†","Ø¹Ø±Ø¨ÛŒ-ÙØ§Ø±Ø³ÛŒ","Ø¹Ø¨Ø±ÛŒ"],correct:1},
        {q:"Ù…Ø±Ú©Ø² Ø§Ø³ØªØ§Ù† ÙØ§Ø±Ø³ØŸ",options:["Ø´ÛŒØ±Ø§Ø²","Ú©Ø±Ù…Ø§Ù†","Ø§Ø±ÙˆÙ…ÛŒÙ‡"],correct:0},
        {q:"Ú©Ø¯Ø§Ù… Ø³Ø§Ø² Ø§ÛŒØ±Ø§Ù†ÛŒ Ø§Ø³ØªØŸ",options:["ØªØ§Ø±","Ù¾ÛŒØ§Ù†Ùˆ","ÙˆÛŒÙˆÙ„Ù†"],correct:0},
        {q:"Ú©Ø¯Ø§Ù… Ú©Ø´ÙˆØ± Ù‡Ù…Ø³Ø§ÛŒÙ‡ Ø§ÛŒØ±Ø§Ù† Ø§Ø³ØªØŸ",options:["Ú˜Ø§Ù¾Ù†","ØªØ±Ú©ÛŒÙ‡","Ø¨Ø±Ø²ÛŒÙ„"],correct:1},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ø´Ù‡Ø± Ù…Ø°Ù‡Ø¨ÛŒ Ù…Ù‡Ù… Ø¯Ø± Ø§ÛŒØ±Ø§Ù† Ø§Ø³ØªØŸ",options:["Ù‚Ù…","Ø¯Ø¨ÛŒ","Ø§Ø³ØªØ§Ù†Ø¨ÙˆÙ„"],correct:0}
      ]
    },
    {
      id: 5,
      title: "Ø¨Ø§Ø²ÛŒ Ûµ - Ø§ÛŒØ«Ø§Ø± Ùˆ Ø§Ø®Ù„Ø§Ù‚",
      subtitle: "Ø±ÙØªØ§Ø±Ù‡Ø§ÛŒ Ø§Ø®Ù„Ø§Ù‚ÛŒØŒ Ø§ÛŒØ«Ø§Ø±ØŒ Ø­Ù‚â€ŒØ§Ù„Ù†Ø§Ø³ Ùˆ Ù…Ù‡Ø±Ø¨Ø§Ù†ÛŒ.",
      teaser: "Ø§ÛŒÙ†â€ŒØ¬Ø§ Ø¨ÛŒØ´ØªØ± Ø§Ø² Ù…ØºØ²ØŒ Ø¨Ø§ Ø¯Ù„ Ø¨Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ.",
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/kart-defa.webp",
      coachImg: "",
      timePerStageSec: 12,
      locked: true,
      stages: [
        {q:"Ú©Ù…Ú© Ø¨ÛŒâ€ŒÙ…Ù†Øª Ø¨Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù† ÛŒØ¹Ù†ÛŒ:",options:["Ø§ÛŒØ«Ø§Ø±","ØºØ±ÙˆØ±","Ø®Ø´Ù…"],correct:0},
        {q:"Ù¾Ù†Ù‡Ø§Ù†â€ŒÚ©Ø±Ø¯Ù† Ø¹ÛŒØ¨ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ù†Ø´Ø§Ù†Ù‡Ù”:",options:["Ø­ÛŒØ§","ØªØ±Ø³","Ø®ÙˆØ¯Ø®ÙˆØ§Ù‡ÛŒ"],correct:0},
        {q:"Ú¯ÙØªÙ† Ø­Ù‚ÛŒÙ‚ØªØŒ Ø­ØªÛŒ ÙˆÙ‚ØªÛŒ Ø³Ø®Øª Ø§Ø³ØªØŒ ÛŒØ¹Ù†ÛŒ:",options:["ØµØ¯Ø§Ù‚Øª","Ù„Ø¬Ø¨Ø§Ø²ÛŒ","ØªØ­Ù‚ÛŒØ±"],correct:0},
        {q:"Ø¨Ø®Ø´ÛŒØ¯Ù† Ø®Ø·Ø§ÛŒ Ø¯ÛŒÚ¯Ø±Ø§Ù†:",options:["Ú©ÛŒÙ†Ù‡","Ø¹ÙÙˆ","Ø§Ù†ØªÙ‚Ø§Ù…"],correct:1},
        {q:"Ú©Ù…Ú© Ø¨Ù‡ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ Ø¯Ø± Ø¯ÛŒÙ†:",options:["Ú©Ø§Ø± Ø¨ÛŒâ€ŒØ§Ø±Ø²Ø´","Ø¹Ø¨Ø§Ø¯Øª","ØªÙØ±ÛŒØ­"],correct:1},
        {q:"ØºÛŒØ¨Øª ÛŒØ¹Ù†ÛŒ:",options:["ØªØ¹Ø±ÛŒÙâ€ŒÚ©Ø±Ø¯Ù†","Ø¨Ø¯Ú¯ÙˆÛŒÛŒ Ù¾Ø´Øªâ€ŒØ³Ø±","Ø´ÙˆØ®ÛŒ"],correct:1},
        {q:"Ú©Ø¯Ø§Ù… Ø±ÙØªØ§Ø± Ø§Ø®Ù„Ø§Ù‚ÛŒâ€ŒØªØ± Ø§Ø³ØªØŸ",options:["ØªÙ…Ø³Ø®Ø±","Ú¯ÙˆØ´â€ŒØ¯Ø§Ø¯Ù† Ø¨Ø§ Ø§Ø­ØªØ±Ø§Ù…","Ø¨ÛŒâ€ŒØªÙˆØ¬Ù‡ÛŒ"],correct:1},
        {q:"Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ø³Ø§Ù„Ù… Ø§Ù…Ø§Ù†ØªØŒ ÛŒØ¹Ù†ÛŒ:",options:["Ø®ÛŒØ§Ù†Øª","Ø§Ù…Ø§Ù†Øªâ€ŒØ¯Ø§Ø±ÛŒ","Ø³Ø§Ø¯Ù‡â€ŒÙ„ÙˆØ­ÛŒ"],correct:1},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ± Ø¨Ù‡ Ø§ÛŒØ«Ø§Ø± Ø§Ø³ØªØŸ",options:["ØªØ±Ø¬ÛŒØ­ Ø®ÙˆØ¯","ØªØ±Ø¬ÛŒØ­ Ø¯ÛŒÚ¯Ø±Ø§Ù†","Ø¨ÛŒâ€ŒØªÙØ§ÙˆØªÛŒ"],correct:1},
        {q:"Ù†Ø¬Ø§Øªâ€ŒØ¯Ø§Ø¯Ù† Ø¬Ø§Ù† Ø¯ÛŒÚ¯Ø±Ø§Ù†:",options:["Ú©Ø§Ø± Ø¹Ø§Ø¯ÛŒ","ÙØ¯Ø§Ú©Ø§Ø±ÛŒ","Ø´ÙˆØ®ÛŒ"],correct:1},
        {q:"Ø³Ø± Ø²Ø¯Ù† Ø¨Ù‡ Ø¨ÛŒÙ…Ø§Ø±:",options:["Ø§ØªÙ„Ø§Ù ÙˆÙ‚Øª","Ø«ÙˆØ§Ø¨","Ù…Ø²Ø§Ø­Ù…Øª"],correct:1},
        {q:"Ø¯Ø±ÙˆØºÙ Ù…Ú©Ø±Ø± Ø¨Ø§Ø¹Ø«:",options:["Ø§Ø¹ØªÙ…Ø§Ø¯","Ø¨ÛŒâ€ŒØ§Ø¹ØªÙ…Ø§Ø¯ÛŒ","Ù…Ø­Ø¨Øª"],correct:1},
        {q:"Ø­Ù‚â€ŒØ§Ù„Ù†Ø§Ø³ ÛŒØ¹Ù†ÛŒ:",options:["Ø­Ù‚ Ø·Ø¨ÛŒØ¹Øª","Ø­Ù‚ Ù…Ø±Ø¯Ù…","Ø­Ù‚ Ø­ÛŒÙˆØ§Ù†Ø§Øª"],correct:1},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ù…ØµØ¯Ø§Ù‚ Ø§Ø­ØªØ±Ø§Ù… Ø§Ø³ØªØŸ",options:["Ù‚Ø·Ø¹ Ø­Ø±Ù Ø¯ÛŒÚ¯Ø±Ø§Ù†","Ø³Ù„Ø§Ù…â€ŒÚ©Ø±Ø¯Ù†","Ø¨ÛŒâ€ŒØ¬ÙˆØ§Ø¨ Ú¯Ø°Ø§Ø´ØªÙ†"],correct:1},
        {q:"ÙØ±ÛŒØ§Ø¯Ø²Ø¯Ù† Ø¨Ø± ÙˆØ§Ù„Ø¯ÛŒÙ†:",options:["Ø¹Ø§Ø¯ÛŒ","Ø¨ÛŒâ€ŒØ§Ø¯Ø¨ÛŒ","Ø´Ø¬Ø§Ø¹Øª"],correct:1},
        {q:"Ø¨Ø®Ø´Ø´ Ù…Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø±Ø¶Ø§ÛŒ Ø®Ø¯Ø§:",options:["Ø±ÛŒØ§","ØµØ¯Ù‚Ù‡","Ø®Ø³Ø§Ø³Øª"],correct:1},
        {q:"Ú©Ù…Ú© Ø¨Ù‡ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡ Ø´Ù‡Ø¯Ø§:",options:["Ø¨ÛŒâ€ŒÙØ§ÛŒØ¯Ù‡","Ù‚Ø¯Ø±Ø¯Ø§Ù†ÛŒ","Ø§Ø´ØªØ¨Ø§Ù‡"],correct:1},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ø§Ø¯Ø¨ Ø¯Ø± Ú¯ÙØªØ§Ø± Ø§Ø³ØªØŸ",options:["ØªÙˆÙ‡ÛŒÙ†","Ø³Ø¤Ø§Ù„ Ù…Ø­ØªØ±Ù…Ø§Ù†Ù‡","Ù…Ø³Ø®Ø±Ù‡â€ŒÚ©Ø±Ø¯Ù†"],correct:1},
        {q:"Ø¢Ø¨Ø±Ùˆ Ø¨Ø±Ø¯Ù† Ø¯ÛŒÚ¯Ø±Ø§Ù†:",options:["Ú¯Ù†Ø§Ù‡","Ø´ÙˆØ®ÛŒ","Ø´Ø¬Ø§Ø¹Øª"],correct:0},
        {q:"Ø³Ø§Ú©Øªâ€ŒÙ…Ø§Ù†Ø¯Ù† Ùˆ ØªØ£ÛŒÛŒØ¯ ØºÛŒØ¨Øª:",options:["ØªØ£ÛŒÛŒØ¯ Ø¶Ù…Ù†ÛŒ","Ù…Ø¨Ø§Ø±Ø²Ù‡","Ù†ØµÛŒØ­Øª"],correct:0}
      ]
    },
    {
      id: 6,
      title: "Ø¨Ø§Ø²ÛŒ Û¶ - Ù…Ø°Ù‡Ø¨ÛŒ",
      subtitle: "Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÙ†ÛŒ Ú©ÙˆØªØ§Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ù…Ø¹Ø§Ø±Ù Ø´ÛŒØ¹Ù‡.",
      teaser: "Ø§Ø² Ù‚Ø±Ø¢Ù† ØªØ§ Ø§Ù‡Ù„â€ŒØ¨ÛŒØª(Ø¹)ØŒ Ø¨Ø¨ÛŒÙ† Ú†Ù‚Ø¯Ø± Ù‡Ù…Ø±Ø§Ù‡ÛŒ.",
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/kart-mazhab.webp",
      coachImg: "",
      timePerStageSec: 12,
      locked: true,
      stages: [
        {q:"Ú©ØªØ§Ø¨ Ø¢Ø³Ù…Ø§Ù†ÛŒ Ù…Ø³Ù„Ù…Ø§Ù†Ø§Ù†:",options:["Ù‚Ø±Ø¢Ù†","ØªÙˆØ±Ø§Øª","Ø§Ù†Ø¬ÛŒÙ„"],correct:0},
        {q:"Ù…Ø§Ù‡ Ø±ÙˆØ²Ù‡â€ŒØ¯Ø§Ø±ÛŒ:",options:["Ø±Ù…Ø¶Ø§Ù†","Ù…Ø­Ø±Ù…","Ø±Ø¬Ø¨"],correct:0},
        {q:"Ù‚Ø¨Ù„Ù‡Ù” Ù…Ø³Ù„Ù…Ø§Ù†Ø§Ù†:",options:["Ú©Ø¹Ø¨Ù‡","Ù…Ø³Ø¬Ø¯Ø§Ù„Ø§Ù‚ØµÛŒ","Ù…Ø¯ÛŒÙ†Ù‡"],correct:0},
        {q:"Ø§Ù…Ø§Ù… Ø¹Ù„ÛŒ(Ø¹) Ú†Ù†Ø¯Ù…ÛŒÙ† Ø§Ù…Ø§Ù… Ø´ÛŒØ¹Ù‡ Ø§Ø³ØªØŸ",options:["Ø§ÙˆÙ„","Ø¯ÙˆÙ…","Ø³ÙˆÙ…"],correct:0},
        {q:"Ø´Ù‡Ø§Ø¯Øª Ø§Ù…Ø§Ù… Ø­Ø³ÛŒÙ†(Ø¹) Ø¯Ø± Ø±ÙˆØ²:",options:["Ø¹Ø±ÙÙ‡","Ø¹Ø§Ø´ÙˆØ±Ø§","ØºØ¯ÛŒØ±"],correct:1},
        {q:"Ø§Ù…Ø§Ù… Ø±Ø¶Ø§(Ø¹) Ø¯Ø± Ú©Ø¯Ø§Ù… Ø´Ù‡Ø± Ù…Ø¯ÙÙˆÙ† Ø§Ø³ØªØŸ",options:["Ù‚Ù…","Ù…Ø´Ù‡Ø¯","Ú©Ø±Ø¨Ù„Ø§"],correct:1},
        {q:"Ø§Ù…Ø§Ù… Ø²Ù…Ø§Ù†(Ø¹Ø¬) ÙØ±Ø²Ù†Ø¯ Ú©Ø¯Ø§Ù… Ø§Ù…Ø§Ù… Ø§Ø³ØªØŸ",options:["Ø§Ù…Ø§Ù… Ù‡Ø§Ø¯ÛŒ(Ø¹)","Ø§Ù…Ø§Ù… Ø¹Ø³Ú©Ø±ÛŒ(Ø¹)","Ø§Ù…Ø§Ù… Ø¬ÙˆØ§Ø¯(Ø¹)"],correct:1},
        {q:"ØºØ¯ÛŒØ± Ø®Ù… Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ÙˆÙ„Ø§ÛŒØª Ú†Ù‡ Ú©Ø³ÛŒ Ø§Ø³ØªØŸ",options:["Ø§Ù…Ø§Ù… Ø­Ø³ÛŒÙ†(Ø¹)","Ø§Ù…Ø§Ù… Ø¹Ù„ÛŒ(Ø¹)","Ø§Ù…Ø§Ù… Ø¬ÙˆØ§Ø¯(Ø¹)"],correct:1},
        {q:"Ù†Ù…Ø§Ø² ÙˆØ§Ø¬Ø¨ Ø±ÙˆØ²Ø§Ù†Ù‡ Ú†Ù†Ø¯ Ø±Ú©Ø¹Øª Ø§Ø³ØªØŸ",options:["Û±Û·","Û±Û±","Û±Û¹"],correct:0},
        {q:"Ú©Ø¯Ø§Ù…ØŒ ÛŒÚ© Ù†Ù…Ø§Ø² ÙˆØ§Ø¬Ø¨ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø§Ø³ØªØŸ",options:["ØµØ¨Ø­","ÙˆØªØ±","Ø¹ÛŒØ¯"],correct:0},
        {q:"Ú©Ø¯Ø§Ù…ØŒ ÛŒÚ©ÛŒ Ø§Ø² Ø§Ø±Ú©Ø§Ù† Ø§Ø³Ù„Ø§Ù… Ø§Ø³ØªØŸ",options:["Ù†Ù…Ø§Ø²","Ù„Ø¨Ø§Ø³","Ø³ÙØ±"],correct:0},
        {q:"Ø²Ú©Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡:",options:["Ø§Ù…ÙˆØ§Ù„","Ø±Ù†Ú¯","ØºØ°Ø§"],correct:0},
        {q:"Ø­Ø¬ Ø¯Ø± Ú©Ø¯Ø§Ù… Ù…Ø§Ù‡ Ù‚Ù…Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŸ",options:["Ø±Ù…Ø¶Ø§Ù†","Ø°ÛŒâ€ŒØ§Ù„Ø­Ø¬Ù‡","ØµÙØ±"],correct:1},
        {q:"Ø³Ù„Ø§Ù…â€ŒØ¯Ø§Ø¯Ù† Ø¯Ø± Ù¾Ø§ÛŒØ§Ù† Ù†Ù…Ø§Ø²:",options:["Ù†Ù…Ø§Ø² Ø±Ø§ ØªÙ…Ø§Ù… Ù…ÛŒâ€ŒÚ©Ù†Ø¯","Ù†Ù…Ø§Ø² Ø±Ø§ Ø¨Ø§Ø·Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯","Ù‡ÛŒÚ† Ù†Ù‚Ø´ÛŒ Ù†Ø¯Ø§Ø±Ø¯"],correct:0},
        {q:"Ø¯Ø¹Ø§ ÛŒØ¹Ù†ÛŒ:",options:["Ø­Ø±Ùâ€ŒØ²Ø¯Ù† Ø¨Ø§ Ø®Ø¯Ø§","ØµØ­Ø¨Øª Ø¨Ø§ Ù…Ø±Ø¯Ù…","ØªÙØ±ÛŒØ­"],correct:0},
        {q:"Ø²ÛŒØ§Ø±Øª Ú©Ø±Ø¨Ù„Ø§ Ø¨ÛŒØ´ØªØ± Ø¨Ø±Ø§ÛŒ:",options:["ØªÙØ±ÛŒØ­","ØªÙ‚ÙˆÛŒØª Ù…Ø­Ø¨Øª Ø§Ù‡Ù„â€ŒØ¨ÛŒØª(Ø¹)","Ø®Ø±ÛŒØ¯"],correct:1},
        {q:"Ú©Ø¯Ø§Ù… Ø¹Ù…Ù„ØŒ Ù…Ø³ØªØ­Ø¨ Ø§Ø³ØªØŸ",options:["Ú©Ù…Ú© Ø¨Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù†","Ø¸Ù„Ù…","ØºÛŒØ¨Øª"],correct:0},
        {q:"Ø±ÙˆØ²Ù‡ ÛŒØ¹Ù†ÛŒ:",options:["ØªØ±Ú© Ø®ÙˆØ±Ø¯Ù† Ùˆ Ø¢Ø´Ø§Ù…ÛŒØ¯Ù† Ø¨Ø±Ø§ÛŒ Ø®Ø¯Ø§","Ú©Ù…â€ŒØ®ÙˆØ±ÛŒ Ù…Ø¹Ù…ÙˆÙ„ÛŒ","Ú©Ù…â€ŒØ®ÙˆØ§Ø¨ÛŒØ¯Ù†"],correct:0},
        {q:"Ú©Ø¯Ø§Ù…ØŒ Ø§Ø² Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ù‚Ø±Ø¢Ù† Ø§Ø³ØªØŸ",options:["ÙØ±Ù‚Ø§Ù†","Ø§Ù†Ø¬ÛŒÙ„","Ø²Ø¨ÙˆØ±"],correct:0},
        {q:"Ú©Ø¯Ø§Ù…ØŒ ÛŒÚ©ÛŒ Ø§Ø² Ù…Ø³Ø§Ø¬Ø¯ Ù…Ù‡Ù… Ø§Ø³Ù„Ø§Ù…ÛŒ Ø§Ø³ØªØŸ",options:["Ù…Ø³Ø¬Ø¯Ø§Ù„Ø­Ø±Ø§Ù…","Ú©Ù„ÛŒØ³Ø§ÛŒ Ù†ÙˆØªØ±Ø¯Ø§Ù…","Ù…Ø¹Ø¨Ø¯ Ø¨ÙˆØ¯Ø§"],correct:0}
      ]
    }
  ];

  // -------- ÙˆØ¶Ø¹ÛŒØª Ú©Ù„ÛŒ --------
  const state = {
    userName: "Ø§Ù„Ù‡Ù‡",
    totalStars: 0,
    unlockedGames: new Set([1]),
    currentGameId: null,
    currentStage: 0,
    hearts: 3,
    gameStars: 0
  };

  const USER_KEY = "hoshitaUserName";
  const AVATAR_KEY = "hoshitaAvatarUrl";

  // Ø§Ù„Ù…Ù†Øªâ€ŒÙ‡Ø§
  const gamesGrid = document.getElementById("gamesGrid");
  const gamesScreen = document.getElementById("gamesScreen");
  const gameScreen = document.getElementById("gameScreen");

  const userNameEl = document.getElementById("userName");
  const totalStarsEl = document.getElementById("totalStars");
  const currentGameLabel = document.getElementById("currentGameLabel");
  const currentStageLabel = document.getElementById("currentStageLabel");

  const gameTitleEl = document.getElementById("gameTitle");
  const gameSubtitleEl = document.getElementById("gameSubtitle");
  const coachImgEl = document.getElementById("coachImg");
  const coachTextEl = document.getElementById("coachText");

  const playerAvatarEl = document.getElementById("playerAvatar");

  const heartsCountEl = document.getElementById("heartsCount");
  const gameStarsEl = document.getElementById("gameStars");
  const starStatEl = document.getElementById("starStat");
  const heartStatEl = document.getElementById("heartStat");

  const questionTextEl = document.getElementById("questionText");
  const optionsContainer = document.getElementById("optionsContainer");
  const progressInner = document.getElementById("progressInner");
  const stageLabelBottom = document.getElementById("stageLabelBottom");
  const timerValueEl = document.getElementById("timerValue");

  const backToListBtn = document.getElementById("backToListBtn");
  const restartBtn = document.getElementById("restartBtn");

  const achievementsBtn = document.getElementById("achievementsBtn");
  const helpBtn = document.getElementById("helpBtn");
  const aboutBtn = document.getElementById("aboutBtn");

  const modalBackdrop = document.getElementById("modalBackdrop");
  const modalTitle = document.getElementById("modalTitle");
  const modalBody = document.getElementById("modalBody");
  const modalCloseBtn = document.getElementById("modalCloseBtn");

  // Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø´Ø±ÙˆØ¹
  const onboardBackdrop = document.getElementById("onboardBackdrop");
  const onboardNameInput = document.getElementById("onboardNameInput");
  const onboardConfirmBtn = document.getElementById("onboardConfirmBtn");
  const avatarButtons = document.querySelectorAll(".avatar-choice");
  let selectedAvatarUrl = avatarButtons[0]?.dataset.avatar || "";

  // ØªØ§ÛŒÙ…Ø±
  let timerInterval = null;
  let timerRemaining = 0;

  // Ø§ÛŒÙ†Ø¯Ú©Ø³ Ú¯Ø²ÛŒÙ†Ù‡Ù” Ø¯Ø±Ø³Øª Ø¨Ø¹Ø¯ Ø§Ø² Ø´Ø§ÙÙ„
  let currentCorrectIndex = 0;

  // --- Û¶ Ø­Ø§Ù„Øª Ù…Ø±Ø¨ÛŒ: Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø­Ø§Ù„Øª ÛŒÚ© Ø¹Ú©Ø³ Ùˆ ÛŒÚ© Ù…ØªÙ† ---
  // TODO: Ø§ÛŒÙ† Ø¢Ø¯Ø±Ø³â€ŒÙ‡Ø§ Ø±Ùˆ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¨Ø§ Ù„ÛŒÙ†Ú©â€Œ Ø¹Ú©Ø³â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø®ÙˆØ¯Øª Ø¹ÙˆØ¶ Ú©Ù†
  const coachStates = {
    start: {
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/mehraban.webp",
      text: "Ø¢Ø±ÙˆÙ… Ø¨Ø§Ø´ØŒ Ø¨Ø§ Ø¯Ù‚Øª Ø¬ÙˆØ§Ø¨ Ø¨Ø¯Ù‡. Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ Ú©Ù‡ Ø¬Ù„Ùˆ Ø¨Ø±ÛŒØŒ Ø³ØªØ§Ø±Ù‡ Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒ! ğŸŒŸ"
    },
    correct: {
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/tashvigh.webp",
      text: "Ø¢ÙØ±ÛŒÙ†! ÛŒÙ‡ Ù‚Ø¯Ù… Ø¯ÛŒÚ¯Ù‡ Ø¬Ù„Ùˆ Ø±ÙØªÛŒ. Ø¨Ø±Ùˆ Ø¨Ø¹Ø¯ÛŒ ğŸ‘"
    },
    wrong: {
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/tekrar.webp",
      text: "Ø§Ø´Ú©Ø§Ù„ÛŒ Ù†Ø¯Ø§Ø±Ù‡ØŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†. Ø§ÛŒÙ†â€ŒØ¨Ø§Ø± Ø¯Ù‚ÛŒÙ‚â€ŒØªØ± Ù†Ú¯Ø§Ù‡ Ú©Ù†."
    },
    timeout: {
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/jeddi.webp",
      text: "ÙˆÙ‚ØªØª ØªÙ…ÙˆÙ… Ø´Ø¯! Ø§ÛŒÙ†â€ŒØ¨Ø§Ø± Ø³Ø±ÛŒØ¹â€ŒØªØ± Ø¬ÙˆØ§Ø¨ Ø¨Ø¯Ù‡ â±"
    },
    gameComplete: {
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/haiajan.webp",
      text: "Ø¹Ø§Ù„ÛŒ Ø¨ÙˆØ¯! Ù‡Ù…Ù‡ Ù…Ø±Ø§Ø­Ù„ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø±Ùˆ Ø±Ø¯ Ú©Ø±Ø¯ÛŒ. Ø¨Ø±Ùˆ Ø³Ø±Ø§Øº Ø¨Ø§Ø²ÛŒ Ø¨Ø¹Ø¯ÛŒ ğŸ’ª"
    },
    gameOver: {
      img: "https://cdnfa.com/irangiah/a9be/uploads/bazi2/delsooz.webp",
      text: "Ø¬Ø§Ù†â€ŒÙ‡Ø§Øª ØªÙ…ÙˆÙ… Ø´Ø¯Ø› Ø§Ø² Ù†Ùˆ Ø´Ø±ÙˆØ¹ Ú©Ù†ØŒ Ø§ÛŒÙ†â€ŒØ¨Ø§Ø± Ø¨Ù‡ØªØ± Ù…ÛŒâ€ŒØ²Ù†ÛŒ ğŸ˜"
    }
  };

  function setCoachState(stateKey) {
    const cfg = coachStates[stateKey];
    if (!cfg) return;
    if (cfg.img) coachImgEl.src = cfg.img;
    if (cfg.text) coachTextEl.textContent = cfg.text;
  }

  // ---- Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¯Ø± Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø´Ø±ÙˆØ¹ ----
  avatarButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      avatarButtons.forEach(b => b.classList.remove("selected"));
      btn.classList.add("selected");
      selectedAvatarUrl = btn.dataset.avatar;
    });
  });

  function showOnboarding() {
    onboardNameInput.value = state.userName || "";
    onboardBackdrop.classList.add("active");
  }
  function hideOnboarding() {
    onboardBackdrop.classList.remove("active");
  }

  onboardConfirmBtn.addEventListener("click", () => {
    const name = onboardNameInput.value.trim() || "Ø¯ÙˆØ³Øª Ø·Ø§ÙˆÛŒØªØ§";
    state.userName = name;
    userNameEl.textContent = name;
    try {
      localStorage.setItem(USER_KEY, name);
      if (selectedAvatarUrl) {
        localStorage.setItem(AVATAR_KEY, selectedAvatarUrl);
      }
    } catch (e) {}
    if (selectedAvatarUrl) {
      playerAvatarEl.src = selectedAvatarUrl;
    }
    hideOnboarding();
    renderGamesList();
  });

  function initUser() {
    try {
      const savedName = localStorage.getItem(USER_KEY);
      const savedAvatar = localStorage.getItem(AVATAR_KEY);
      if (savedName) {
        state.userName = savedName;
        userNameEl.textContent = savedName;
      }
      if (savedAvatar) {
        selectedAvatarUrl = savedAvatar;
        playerAvatarEl.src = savedAvatar;
      } else {
        selectedAvatarUrl = avatarButtons[0]?.dataset.avatar || selectedAvatarUrl;
        playerAvatarEl.src = selectedAvatarUrl;
      }
      if (!savedName) {
        showOnboarding();
      }
    } catch (e) {
      showOnboarding();
    }
  }

  // ---- Ø±Ù†Ø¯Ø± Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ ----
  function renderGamesList() {
    userNameEl.textContent = state.userName;
    totalStarsEl.textContent = state.totalStars;

    gamesGrid.innerHTML = "";
    gamesData.forEach(game => {
      const card = document.createElement("div");
      const isUnlocked = state.unlockedGames.has(game.id) && !game.locked;

      card.className = "game-card" + (isUnlocked ? "" : " locked");
      card.innerHTML = `
        <img src="${game.img}" alt="${game.title}">
        <div class="game-card-body">
          <div class="game-card-title">${game.title}</div>
          <div class="game-card-sub">${game.teaser}</div>
          <div class="game-card-footer">
            <span>Ù…Ø±Ø§Ø­Ù„: <strong>${game.stages ? game.stages.length : "?"}</strong></span>
            ${isUnlocked ? `<button type="button">Ú†Ø§Ù„Ø´ Ø°Ù‡Ù†</button>` : ""}
          </div>
          ${isUnlocked ? "" : `
          <div class="lock-overlay">
            <div class="lock-icon">ğŸ”’</div>
            <div>Ø§ÙˆÙ„ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ø±Ùˆ ØªÙ…Ø§Ù… Ú©Ù†</div>
          </div>`}
        </div>
      `;
      if (isUnlocked) {
        card.addEventListener("click", () => startGame(game.id));
      }
      gamesGrid.appendChild(card);
    });
  }

  // ---- Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ ----
  function startGame(gameId) {
    const game = gamesData.find(g => g.id === gameId);
    if (!game) return;

    clearInterval(timerInterval);

    state.currentGameId = gameId;
    state.currentStage = 0;
    state.hearts = 3;
    state.gameStars = 0;

    gameTitleEl.textContent = game.title;
    gameSubtitleEl.textContent = game.subtitle;

    // Ù…Ø±Ø¨ÛŒ: Ø­Ø§Ù„Øª Ø´Ø±ÙˆØ¹
    setCoachState("start");

    gamesScreen.classList.add("hidden");
    gameScreen.classList.remove("hidden");

    updateGameUi();
  }

  // ---- ØªØ§ÛŒÙ…Ø± Ù…Ø±Ø­Ù„Ù‡ ----
  function startTimerForStage(game) {
    clearInterval(timerInterval);
    const baseSec = game.timePerStageSec || 10;
    timerRemaining = baseSec;
    updateTimerLabel();
    timerInterval = setInterval(() => {
      timerRemaining--;
      if (timerRemaining <= 0) {
        clearInterval(timerInterval);
        handleTimeout();
      } else {
        updateTimerLabel();
      }
    }, 1000);
  }

  function updateTimerLabel() {
    timerValueEl.textContent = `${timerRemaining} Ø«Ø§Ù†ÛŒÙ‡ â³`;
  }

  // ---- Ø¢Ù¾Ø¯ÛŒØª UI Ø¨Ø§Ø²ÛŒ + Ø´Ø§ÙÙ„ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ ----
  function updateGameUi() {
    const game = gamesData.find(g => g.id === state.currentGameId);
    if (!game) return;

    const stageCount = game.stages.length;
    const currentStageIndex = Math.max(0, Math.min(state.currentStage, stageCount - 1));
    const stageData = game.stages[currentStageIndex];

    currentGameLabel.textContent = game.title;
    currentStageLabel.textContent = `${currentStageIndex + 1} Ø§Ø² ${stageCount}`;

    heartsCountEl.textContent = state.hearts.toString();
    gameStarsEl.textContent = state.gameStars.toString();

    stageLabelBottom.textContent = `Ù…Ø±Ø­Ù„Ù‡ ${currentStageIndex + 1} Ø§Ø² ${stageCount}`;

    const progress = (currentStageIndex / stageCount) * 100;
    progressInner.style.width = `${progress}%`;

    questionTextEl.textContent = stageData.q;

    // Ø³Ø§Ø®Øª Ø¢Ø±Ø§ÛŒÙ‡Ù” Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ Ø§ÛŒÙ†Ø¯Ú©Ø³ Ø§ØµÙ„ÛŒ
    const originalOptions = stageData.options.map((text, idx) => ({
      text,
      originalIndex: idx
    }));

    // Ú©Ù¾ÛŒ Ùˆ Ø´Ø§ÙÙ„ Ø¨Ø§ ÙÛŒØ´Ø±â€“ÛŒÛŒØªØ³
    const shuffled = [...originalOptions];
    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      const temp = shuffled[i];
      shuffled[i] = shuffled[j];
      shuffled[j] = temp;
    }

    // Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ø¬Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ú¯Ø²ÛŒÙ†Ù‡Ù” Ø¯Ø±Ø³Øª
    currentCorrectIndex = shuffled.findIndex(opt => opt.originalIndex === stageData.correct);

    // Ø³Ø§Ø®Øª Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¨Ø±Ø§Ø³Ø§Ø³ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ø´Ø§ÙÙ„ Ø´Ø¯Ù‡
    optionsContainer.innerHTML = "";
    shuffled.forEach((opt, btnIndex) => {
      const btn = document.createElement("button");
      btn.className = "option-btn";
      btn.textContent = opt.text;
      btn.addEventListener("click", () => handleAnswer(btnIndex));
      optionsContainer.appendChild(btn);
    });

    startTimerForStage(game);
  }

  // ---- Ù¾Ø§Ø³Ø® Ú©Ø§Ø±Ø¨Ø± ----
  let answeringLocked = false;

  function handleAnswer(index) {
    if (answeringLocked) return;
    const game = gamesData.find(g => g.id === state.currentGameId);
    if (!game) return;

    clearInterval(timerInterval);

    const optionButtons = Array.from(document.querySelectorAll(".option-btn"));
    answeringLocked = true;

    // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ
    optionButtons.forEach(btn => {
      btn.classList.remove("correct", "wrong");
    });

    const isCorrect = (index === currentCorrectIndex);

    if (isCorrect) {
      // ÙÙ‚Ø· Ù‡Ù…Ø§Ù† Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø²Ø¯Ù‡ Ø³Ø¨Ø² Ø´ÙˆØ¯
      optionButtons[index].classList.add("correct");

      state.gameStars += 1;
      state.totalStars += 1;
      pulse(starStatEl, "bounce");

      // Ù…Ø±Ø¨ÛŒ: Ø­Ø§Ù„Øª Ù¾Ø§Ø³Ø® Ø¯Ø±Ø³Øª
      setCoachState("correct");

      setTimeout(() => {
        state.currentStage++;
        if (state.currentStage >= game.stages.length) {
          // Ù…Ø±Ø¨ÛŒ: ØªÙ…Ø§Ù… Ø´Ø¯Ù† Ø¨Ø§Ø²ÛŒ
          setCoachState("gameComplete");
          unlockNextGame();
          showModal(
            "Ø¢ÙØ±ÛŒÙ† Ù‚Ù‡Ø±Ù…Ø§Ù†! ğŸ‰",
            "ØªÙ…Ø§Ù… Ù…Ø±Ø§Ø­Ù„ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø±Ùˆ Ø±Ø¯ Ú©Ø±Ø¯ÛŒ.\nÙ…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø¨Ø§Ø²ÛŒ Ø¨Ø¹Ø¯ÛŒ Ø±Ùˆ Ù‡Ù… Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒ."
          );
          backToList();
        } else {
          updateGameUi();
        }
        updateGlobalStats();
        answeringLocked = false;
      }, 700);

    } else {
      // ÙÙ‚Ø· Ù‡Ù…Ø§Ù† Ú¯Ø²ÛŒÙ†Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø²Ø¯Ù‡ Ù‚Ø±Ù…Ø² Ø´ÙˆØ¯
      optionButtons[index].classList.add("wrong");

      state.hearts -= 1;
      pulse(heartStatEl, "shake");

      // Ù…Ø±Ø¨ÛŒ: Ø­Ø§Ù„Øª Ù¾Ø§Ø³Ø® ØºÙ„Ø·
      setCoachState("wrong");

      setTimeout(() => {
        if (state.hearts <= 0) {
          // Ù…Ø±Ø¨ÛŒ: Ú¯ÛŒÙ… Ø§ÙˆØ±
          setCoachState("gameOver");
          showModal(
            "Ø¬Ø§Ù†â€ŒÙ‡Ø§Øª ØªÙ…ÙˆÙ… Ø´Ø¯ ğŸ˜…",
            "Ù†Ú¯Ø±Ø§Ù† Ù†Ø¨Ø§Ø´Ø› Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ø¨Ø§ Ø¯Ú©Ù…Ù‡ Â«Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§Ø²ÛŒÂ» Ú©Ù„ Ø¨Ø§Ø²ÛŒ Ø±Ùˆ Ø§Ø² Ø§ÙˆÙ„ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒ."
          );
          resetCurrentGameOnly();
        } else {
          updateGameUi();
        }
        updateGlobalStats();
        answeringLocked = false;
      }, 700);
    }
  }

  function handleTimeout() {
    if (answeringLocked) return;
    answeringLocked = true;
    state.hearts -= 1;
    pulse(heartStatEl, "shake");

    // Ù…Ø±Ø¨ÛŒ: Ø­Ø§Ù„Øª Ø§ØªÙ…Ø§Ù… Ø²Ù…Ø§Ù†
    setCoachState("timeout");

    setTimeout(() => {
      if (state.hearts <= 0) {
        setCoachState("gameOver");
        showModal(
          "Ø²Ù…Ø§Ù†Øª ØªÙ…ÙˆÙ… Ø´Ø¯ ğŸ˜…",
          "Ù‡Ù…Ù‡â€ŒÛŒ Ø¬Ø§Ù†â€ŒÙ‡Ø§Øª Ø±ÙØª. Ø¨Ø§ Â«Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§Ø²ÛŒÂ» Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ Ú©Ù„ Ø¨Ø§Ø²ÛŒ Ø±Ùˆ Ø§Ø² ØµÙØ± Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒ."
        );
        resetCurrentGameOnly();
      } else {
        updateGameUi();
      }
      updateGlobalStats();
      answeringLocked = false;
    }, 700);
  }

  function pulse(el, className) {
    el.classList.remove(className);
    void el.offsetWidth;
    el.classList.add(className);
    setTimeout(() => el.classList.remove(className), 450);
  }

  function resetCurrentGameOnly() {
    const game = gamesData.find(g => g.id === state.currentGameId);
    if (!game) return;
    clearInterval(timerInterval);
    state.hearts = 3;
    state.gameStars = 0;
    state.currentStage = 0;
    // ÙˆÙ‚ØªÛŒ Ø§Ø² Ø§ÙˆÙ„ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ Ù…Ø±Ø¨ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø­Ø§Ù„Øª start Ø¨Ú¯ÛŒØ±Ø¯
    setCoachState("start");
    updateGameUi();
  }

  function unlockNextGame() {
    const currentIndex = gamesData.findIndex(g => g.id === state.currentGameId);
    if (currentIndex >= 0 && currentIndex < gamesData.length - 1) {
      const nextGame = gamesData[currentIndex + 1];
      if (nextGame) {
        nextGame.locked = false;
        state.unlockedGames.add(nextGame.id);
      }
      renderGamesList();
    }
  }

  function updateGlobalStats() {
    totalStarsEl.textContent = state.totalStars.toString();
    gameStarsEl.textContent = state.gameStars.toString();
    heartsCountEl.textContent = state.hearts.toString();
  }

  // ---- Ø±ÛŒØ³Øª Ú©Ø§Ù…Ù„ Ø¨Ø§Ø²ÛŒ ----
  function resetAllGameProgress() {
    clearInterval(timerInterval);
    state.totalStars = 0;
    state.unlockedGames = new Set([1]);
    state.currentGameId = null;
    state.currentStage = 0;
    state.hearts = 3;
    state.gameStars = 0;

    gamesData.forEach((g, index) => {
      if (index === 0) {
        g.locked = false;
      } else {
        g.locked = true;
      }
    });

    updateGlobalStats();
    backToList();
  }

  // ---- Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ ÙÙ‡Ø±Ø³Øª ----
  function backToList() {
    clearInterval(timerInterval);
    state.currentGameId = null;
    gameScreen.classList.add("hidden");
    gamesScreen.classList.remove("hidden");
    currentGameLabel.textContent = "-";
    currentStageLabel.textContent = "-";
    renderGamesList();
  }
  backToListBtn.addEventListener("click", backToList);

  // ---- Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ø§Ø² ÙÙˆØªØ± (Ø±ÛŒØ³Øª Ú©Ø§Ù…Ù„) ----
  restartBtn.addEventListener("click", resetAllGameProgress);

  // ---- Ù¾Ø§Ù¾â€ŒØ¢Ù¾â€ŒÙ‡Ø§ ----
  function showModal(title, body) {
    modalTitle.textContent = title;
    modalBody.textContent = body;
    modalBackdrop.classList.add("active");
  }
  function hideModal() {
    modalBackdrop.classList.remove("active");
  }
  modalCloseBtn.addEventListener("click", hideModal);
  modalBackdrop.addEventListener("click", (e) => {
    if (e.target === modalBackdrop) hideModal();
  });

  // Ø¯Ø³ØªØ§ÙˆØ±Ø¯Ù‡Ø§ Ø¨Ù‡ Ø´Ú©Ù„ Ø¢ÛŒØªÙ…ÛŒ Ùˆ Ø¬Ø°Ø§Ø¨
  achievementsBtn.addEventListener("click", () => {
    const unlockedCount = state.unlockedGames.size;
    const currentGame = gamesData.find(g => g.id === state.currentGameId);
    const currentGameTitle = currentGame ? currentGame.title : "â€”";
    const currentStageHuman = currentGame ? state.currentStage + 1 : "â€”";

    const body =
      `Ù†Ø§Ù… Ø¨Ø§Ø²ÛŒÚ©Ù†: ${state.userName}\n` +
      `Ø§Ù…ØªÛŒØ§Ø² Ú©Ù„: ${state.totalStars}\n` +
      `Ø¨Ø§Ø²ÛŒ ÙØ¹Ù„ÛŒ: ${currentGameTitle}\n` +
      `Ù…Ø±Ø­Ù„Ù‡ ÙØ¹Ù„ÛŒ: ${currentStageHuman}\n` +
      `Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø² Ø´Ø¯Ù‡: ${unlockedCount} Ø§Ø² Û¶\n\n` +
      `ğŸ”¥ Ù‡Ø± Ø¬ÙˆØ§Ø¨ Ø¯Ø±Ø³Øª = ÛŒÚ© Ø³ØªØ§Ø±Ù‡.\n` +
      `ğŸ¯ Ø³Ø¹ÛŒ Ú©Ù† Ø±Ú©ÙˆØ±Ø¯ Ø§Ù…ØªÛŒØ§Ø²Øª Ø±Ùˆ Ù‡Ø± Ø¨Ø§Ø± Ø¨Ù‡ØªØ± Ú©Ù†ÛŒ!`;

    showModal("Ø®Ù„Ø§ØµÙ‡Ù” Ù¾ÛŒØ´Ø±ÙØªØª ØªØ§ Ø§Ù„Ø§Ù†", body);
  });

  helpBtn.addEventListener("click", () => {
    showModal(
      "Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¨Ø§Ø²ÛŒ",
      "Û±) Ø§Ø² ÙÙ‡Ø±Ø³ØªØŒ ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†.\n" +
      "Û²) Ø¯Ø± Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ØŒ Ø¬ÙˆØ§Ø¨ Ø¯Ø±Ø³Øª Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†.\n" +
      "Û³) Ù‡Ø± Ø¬ÙˆØ§Ø¨ Ø¯Ø±Ø³Øª = ÛŒÚ© Ø³ØªØ§Ø±Ù‡.\n" +
      "Û´) Ø¨Ø§ Ø³Ù‡ Ø§Ø´ØªØ¨Ø§Ù‡ ÛŒØ§ Ø§ØªÙ…Ø§Ù… Ø²Ù…Ø§Ù†ØŒ Ø¬Ø§Ù†â€ŒÙ‡Ø§ ØªÙ…ÙˆÙ… Ù…ÛŒâ€ŒØ´Ù† Ùˆ Ø¨Ø§Ø²ÛŒ Ø§Ø² Ø§ÙˆÙ„ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´Ù‡.\n" +
      "Ûµ) Ø¨Ø§ ØªÙ…Ø§Ù… Ú©Ø±Ø¯Ù† Ù‡Ø± Ø¨Ø§Ø²ÛŒØŒ Ø¨Ø§Ø²ÛŒ Ø¨Ø¹Ø¯ÛŒ Ø¨Ø§Ø² Ù…ÛŒâ€ŒØ´Ù‡.\n" +
      "Û¶) Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒ Ù‡Ù…Ù‡â€ŒÚ†ÛŒØ² Ø±Ùˆ Ø§Ø² ØµÙØ± Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØŒ Ø§Ø² Ø¯Ú©Ù…Ù‡ Â«Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§Ø²ÛŒÂ» Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†."
    );
  });

  aboutBtn.addEventListener("click", () => {
    showModal(
      "Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø·Ø§ÙˆÛŒØªØ§",
      "Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù‡ÙˆØ´ÛŒØªØ§ Ø¨Ø±Ø§ÛŒ ØªÙ…Ø±ÛŒÙ† Ù…ØºØ²ØŒ ØªÙ…Ø±Ú©Ø²ØŒ Ø³Ø±Ø¹Øª Ø°Ù‡Ù† Ùˆ Ø­Ø§ÙØ¸Ù‡ Ø·Ø±Ø§Ø­ÛŒ Ø´Ø¯Ù‡.\n" +
      "Ø§ÛŒÙ† Ø¨Ø±Ù†Ø§Ù…Ù‡ ØªÙˆØ³Ø· ØªÛŒÙ… Ø·Ø§ÙˆÛŒØªØ§ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ ØªØ§ ØªÙ…Ø±ÛŒÙ†ØŒ Ø´Ø¨ÛŒÙ‡ ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ù‚Ø´Ù†Ú¯ Ùˆ Ø¯ÙˆØ³Øªâ€ŒØ¯Ø§Ø´ØªÙ†ÛŒ Ø¨Ø§Ø´Ù‡."
    );
  });

  // Ø´Ø±ÙˆØ¹ Ø§ÙˆÙ„ÛŒÙ‡
  initUser();
  if (!onboardBackdrop.classList.contains("active")) {
    renderGamesList();
  }
</script>
</body>
</html>
